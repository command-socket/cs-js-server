"use strict";var __awaiter=this&&this.__awaiter||function(e,o,r,n){return new(r||(r=Promise))((function(t,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r((function(e){e(o)}))).then(a,c)}l((n=n.apply(e,o||[])).next())}))},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o};Object.defineProperty(exports,"__esModule",{value:!0});const core_1=require("@command-socket/core"),delicate=__importStar(require("@t99/delicate")),command_socket_server_1=require("../../command-socket-server"),main=()=>__awaiter(void 0,void 0,void 0,(function*(){console.log("Starting server on port 5437...\n");let e=new core_1.CommandRegistry;e.addInlineCommand("sum",e=>__awaiter(void 0,void 0,void 0,(function*(){let o=0;for(let r of e)o+=r;return o})));let o=new command_socket_server_1.CommandSocketServer(5437,e);console.log("Server running..."),delicate.prompt(()=>{console.log("\nClosing server."),o.close()})}));__awaiter(void 0,void 0,void 0,(function*(){console.log("Starting server on port 5437...\n");let e=new core_1.CommandRegistry;e.addInlineCommand("sum",e=>__awaiter(void 0,void 0,void 0,(function*(){let o=0;for(let r of e)o+=r;return o})));let o=new command_socket_server_1.CommandSocketServer(5437,e);console.log("Server running..."),delicate.prompt(()=>{console.log("\nClosing server."),o.close()})}));
//# sourceMappingURL=test-server.js.map
